---
import CompassCircle from "@elements/CompassCircle.astro";
import Kaaba from "../elements/Kaaba.astro";
---

<div
  class="justify-around items-center p-10 mx-10 md:flex-row flex-col md:flex hidden"
  id="compass"
>
  <h1
    class="hover:underline decoration-aquamarine underline-offset-10 text-white text-9xl"
  >
    QIBLA COMPASS
  </h1>
  <div class="mr-16">
    <div class="-translate-x-10 translate-y-10 h-32 w-32 z-20" id="kaaba">
      <Kaaba />
    </div>
    <div
      style="height: 700px; width:700px"
      id="compass_circle"
      class="text-white z-10"
    >
      <CompassCircle />
    </div>
  </div>
</div>

<script>
  import anime from "animejs";

  const path = anime.path("#compass_inner_circle");

  anime({
    targets: "#kaaba > svg",
    translateX: path("x"),
    translateY: path("y"),
    rotate: path("angle"),
    easing: "linear",
    duration: 10_000,
    loop: true,
  });
</script>
